{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\frontend\\\\src\\\\context\\\\TransactionContext.tsx\",\n  _s = $RefreshSig$();\nimport React, { createContext, useReducer } from 'react';\nimport { initialTransactions } from '../data/initialTransactions';\n\n// 1. STATE & ACTION TYPES\n\n// THÊM ACTION XÓA MỤC TIẾT KIỆM (Dùng cho Rút tiền nếu cần)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// 2. INITIAL STATE\nconst initialSavings = [{\n  id: 101,\n  description: 'Gửi tiết kiệm kỳ 1',\n  amount: 5000000,\n  date: '2025-01-01',\n  type: 'Deposit'\n}, {\n  id: 102,\n  description: 'Gửi tiết kiệm kỳ 2',\n  amount: 2000000,\n  date: '2025-02-15',\n  type: 'Deposit'\n}];\nconst initialState = {\n  transactions: initialTransactions,\n  savings: initialSavings\n};\n\n// 3. CONTEXT SETUP \nconst TransactionContext = /*#__PURE__*/createContext({\n  state: initialState,\n  dispatch: () => null\n});\n\n// 4. REDUCER FUNCTION\nconst transactionReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_TRANSACTION':\n      return {\n        ...state,\n        transactions: [action.payload, ...state.transactions]\n      };\n    case 'ADD_SAVING':\n      return {\n        ...state,\n        savings: [action.payload, ...state.savings]\n      };\n    case 'REMOVE_SAVING':\n      // Hiện tại không dùng, nhưng giữ lại cho tương lai (nếu muốn xóa 1 mục gửi)\n      return {\n        ...state,\n        savings: state.savings.filter(s => s.id !== action.payload)\n      };\n    case 'UPDATE_TRANSACTION':\n      return {\n        ...state,\n        transactions: state.transactions.map(t => t.id === action.payload.id ? action.payload : t)\n      };\n    case 'DELETE_TRANSACTION':\n      return {\n        ...state,\n        transactions: state.transactions.filter(t => t.id !== action.payload)\n      };\n    default:\n      return state;\n  }\n};\n\n// 5. PROVIDER COMPONENT \nexport const TransactionProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(transactionReducer, initialState);\n  return /*#__PURE__*/_jsxDEV(TransactionContext.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s(TransactionProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = TransactionProvider;\nexport default TransactionContext;\nvar _c;\n$RefreshReg$(_c, \"TransactionProvider\");","map":{"version":3,"names":["React","createContext","useReducer","initialTransactions","jsxDEV","_jsxDEV","initialSavings","id","description","amount","date","type","initialState","transactions","savings","TransactionContext","state","dispatch","transactionReducer","action","payload","filter","s","map","t","TransactionProvider","children","_s","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/Desktop/frontend/src/context/TransactionContext.tsx"],"sourcesContent":["import React, { createContext, useReducer, ReactNode, Dispatch } from 'react';\r\nimport { Transaction } from '../types/Transaction';\r\nimport { SavingEntry } from '../types/Saving'; \r\nimport { initialTransactions } from '../data/initialTransactions'; \r\n\r\n// 1. STATE & ACTION TYPES\r\ntype State = {\r\n  transactions: Transaction[];\r\n  savings: SavingEntry[]; // THÊM STATE SAVINGS\r\n};\r\n\r\ntype Action =\r\n  | { type: 'ADD_TRANSACTION'; payload: Transaction }\r\n  | { type: 'UPDATE_TRANSACTION'; payload: Transaction }\r\n  | { type: 'DELETE_TRANSACTION'; payload: number }\r\n  | { type: 'ADD_SAVING'; payload: SavingEntry } // Thêm giao dịch gửi/rút vào sổ tiết kiệm\r\n  | { type: 'REMOVE_SAVING'; payload: number }; // THÊM ACTION XÓA MỤC TIẾT KIỆM (Dùng cho Rút tiền nếu cần)\r\n\r\nexport type TransactionContextType = {\r\n  state: State;\r\n  dispatch: Dispatch<Action>;\r\n};\r\n\r\n// 2. INITIAL STATE\r\nconst initialSavings: SavingEntry[] = [\r\n    { id: 101, description: 'Gửi tiết kiệm kỳ 1', amount: 5000000, date: '2025-01-01', type: 'Deposit' },\r\n    { id: 102, description: 'Gửi tiết kiệm kỳ 2', amount: 2000000, date: '2025-02-15', type: 'Deposit' },\r\n];\r\n\r\nconst initialState: State = {\r\n  transactions: initialTransactions,\r\n  savings: initialSavings, \r\n};\r\n\r\n// 3. CONTEXT SETUP \r\nconst TransactionContext = createContext<TransactionContextType>({\r\n  state: initialState,\r\n  dispatch: () => null,\r\n});\r\n\r\n// 4. REDUCER FUNCTION\r\nconst transactionReducer = (state: State, action: Action): State => {\r\n  switch (action.type) {\r\n    case 'ADD_TRANSACTION':\r\n      return { ...state, transactions: [action.payload, ...state.transactions] }; \r\n      \r\n    case 'ADD_SAVING': \r\n      return { \r\n        ...state, \r\n        savings: [action.payload, ...state.savings] \r\n      };\r\n      \r\n    case 'REMOVE_SAVING': \r\n      // Hiện tại không dùng, nhưng giữ lại cho tương lai (nếu muốn xóa 1 mục gửi)\r\n      return { \r\n        ...state, \r\n        savings: state.savings.filter(s => s.id !== action.payload) \r\n      };\r\n      \r\n    case 'UPDATE_TRANSACTION':\r\n      return {\r\n        ...state,\r\n        transactions: state.transactions.map(t =>\r\n          t.id === action.payload.id ? action.payload : t\r\n        ),\r\n      };\r\n      \r\n    case 'DELETE_TRANSACTION':\r\n      return { ...state, transactions: state.transactions.filter(t => t.id !== action.payload) };\r\n      \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// 5. PROVIDER COMPONENT \r\nexport const TransactionProvider = ({ children }: { children: ReactNode }) => {\r\n  const [state, dispatch] = useReducer(transactionReducer, initialState);\r\n\r\n  return (\r\n    <TransactionContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </TransactionContext.Provider>\r\n  );\r\n};\r\n\r\nexport default TransactionContext;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,QAA6B,OAAO;AAG7E,SAASC,mBAAmB,QAAQ,6BAA6B;;AAEjE;;AAWgD;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAOhD;AACA,MAAMC,cAA6B,GAAG,CAClC;EAAEC,EAAE,EAAE,GAAG;EAAEC,WAAW,EAAE,oBAAoB;EAAEC,MAAM,EAAE,OAAO;EAAEC,IAAI,EAAE,YAAY;EAAEC,IAAI,EAAE;AAAU,CAAC,EACpG;EAAEJ,EAAE,EAAE,GAAG;EAAEC,WAAW,EAAE,oBAAoB;EAAEC,MAAM,EAAE,OAAO;EAAEC,IAAI,EAAE,YAAY;EAAEC,IAAI,EAAE;AAAU,CAAC,CACvG;AAED,MAAMC,YAAmB,GAAG;EAC1BC,YAAY,EAAEV,mBAAmB;EACjCW,OAAO,EAAER;AACX,CAAC;;AAED;AACA,MAAMS,kBAAkB,gBAAGd,aAAa,CAAyB;EAC/De,KAAK,EAAEJ,YAAY;EACnBK,QAAQ,EAAEA,CAAA,KAAM;AAClB,CAAC,CAAC;;AAEF;AACA,MAAMC,kBAAkB,GAAGA,CAACF,KAAY,EAAEG,MAAc,KAAY;EAClE,QAAQA,MAAM,CAACR,IAAI;IACjB,KAAK,iBAAiB;MACpB,OAAO;QAAE,GAAGK,KAAK;QAAEH,YAAY,EAAE,CAACM,MAAM,CAACC,OAAO,EAAE,GAAGJ,KAAK,CAACH,YAAY;MAAE,CAAC;IAE5E,KAAK,YAAY;MACf,OAAO;QACL,GAAGG,KAAK;QACRF,OAAO,EAAE,CAACK,MAAM,CAACC,OAAO,EAAE,GAAGJ,KAAK,CAACF,OAAO;MAC5C,CAAC;IAEH,KAAK,eAAe;MAClB;MACA,OAAO;QACL,GAAGE,KAAK;QACRF,OAAO,EAAEE,KAAK,CAACF,OAAO,CAACO,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACf,EAAE,KAAKY,MAAM,CAACC,OAAO;MAC5D,CAAC;IAEH,KAAK,oBAAoB;MACvB,OAAO;QACL,GAAGJ,KAAK;QACRH,YAAY,EAAEG,KAAK,CAACH,YAAY,CAACU,GAAG,CAACC,CAAC,IACpCA,CAAC,CAACjB,EAAE,KAAKY,MAAM,CAACC,OAAO,CAACb,EAAE,GAAGY,MAAM,CAACC,OAAO,GAAGI,CAChD;MACF,CAAC;IAEH,KAAK,oBAAoB;MACvB,OAAO;QAAE,GAAGR,KAAK;QAAEH,YAAY,EAAEG,KAAK,CAACH,YAAY,CAACQ,MAAM,CAACG,CAAC,IAAIA,CAAC,CAACjB,EAAE,KAAKY,MAAM,CAACC,OAAO;MAAE,CAAC;IAE5F;MACE,OAAOJ,KAAK;EAChB;AACF,CAAC;;AAED;AACA,OAAO,MAAMS,mBAAmB,GAAGA,CAAC;EAAEC;AAAkC,CAAC,KAAK;EAAAC,EAAA;EAC5E,MAAM,CAACX,KAAK,EAAEC,QAAQ,CAAC,GAAGf,UAAU,CAACgB,kBAAkB,EAAEN,YAAY,CAAC;EAEtE,oBACEP,OAAA,CAACU,kBAAkB,CAACa,QAAQ;IAACC,KAAK,EAAE;MAAEb,KAAK;MAAEC;IAAS,CAAE;IAAAS,QAAA,EACrDA;EAAQ;IAAAI,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACkB,CAAC;AAElC,CAAC;AAACN,EAAA,CARWF,mBAAmB;AAAAS,EAAA,GAAnBT,mBAAmB;AAUhC,eAAeV,kBAAkB;AAAC,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}